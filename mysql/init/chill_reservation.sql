-- MySQL dump 10.13  Distrib 8.0.40, for Win64 (x86_64)
--
-- Host: ted19horse.mysql.database.azure.com    Database: chill
-- ------------------------------------------------------
-- Server version	8.0.40-azure

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `reservation`
--

DROP TABLE IF EXISTS `reservation`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `reservation` (
  `reservation_idx` bigint NOT NULL AUTO_INCREMENT,
  `room_idx` bigint NOT NULL,
  `user_idx` bigint DEFAULT NULL,
  `room_types_idx` bigint NOT NULL,
  `children` int DEFAULT '0',
  `check_in` date NOT NULL,
  `check_out` date NOT NULL,
  `adults` int NOT NULL,
  `total` int NOT NULL,
  `created_at` datetime(6) DEFAULT NULL,
  `updated_at` datetime(6) DEFAULT NULL,
  `reservation_num` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `special_request` text COLLATE utf8mb4_unicode_ci,
  `status` enum('CANCELLED','COMPLETED','CONFIRMED','CHECKED_IN') COLLATE utf8mb4_unicode_ci NOT NULL,
  `card_number` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `card_expiry` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `first_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `last_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `email` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `phone` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `room_count` int DEFAULT NULL,
  `room_price` int DEFAULT NULL,
  `adult_breakfast_price` int DEFAULT NULL,
  `child_breakfast_price` int DEFAULT NULL,
  `subtotal` int DEFAULT NULL,
  `discount` int DEFAULT NULL,
  `adults_breakfast` int DEFAULT NULL,
  `children_breakfast` int DEFAULT NULL,
  `bed_type` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `upgrade` tinyint DEFAULT '0',
  `offer_id` bigint DEFAULT NULL,
  PRIMARY KEY (`reservation_idx`),
  UNIQUE KEY `UKcycbm5p8nrsmsji6isq4a2pgh` (`reservation_num`),
  KEY `FKrsoc4phcje2yk5telym4fslrl` (`room_idx`),
  KEY `FKroomtypes_idx` (`room_types_idx`),
  KEY `FKuser` (`user_idx`),
  KEY `FKrm0mrl7lqmvmylpmgtivm9j0o` (`bed_type`),
  KEY `fk_reservation_offer` (`offer_id`),
  CONSTRAINT `fk_reservation_offer` FOREIGN KEY (`offer_id`) REFERENCES `special_offer` (`id`),
  CONSTRAINT `FKroomType` FOREIGN KEY (`room_types_idx`) REFERENCES `room_types` (`room_types_idx`),
  CONSTRAINT `FKrsoc4phcje2yk5telym4fslrl` FOREIGN KEY (`room_idx`) REFERENCES `rooms` (`room_idx`),
  CONSTRAINT `FKuser` FOREIGN KEY (`user_idx`) REFERENCES `users` (`user_idx`)
) ENGINE=InnoDB AUTO_INCREMENT=78 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `reservation`
--

LOCK TABLES `reservation` WRITE;
/*!40000 ALTER TABLE `reservation` DISABLE KEYS */;
INSERT INTO `reservation` VALUES (4,35,2,6,1,'2025-04-01','2025-04-03',2,3,'2025-04-16 08:52:36.000000','2025-04-16 08:52:36.000000','RSV001','높은 층 요청','CONFIRMED','6600-6548-6837-5512','07/27','Jung','Jaeho','jung.jaeho@mail.net','01037226143',1,240000,10000,5000,265000,15000,2,1,'Family',1,NULL),(5,10,3,2,0,'2025-04-03','2025-04-05',1,1,'2025-04-16 08:52:36.000000','2025-04-16 08:52:36.000000','RSV002','조용한 방','CANCELLED','3074-1680-4821-5331','06/26','Lee','Minsu','lee.minsu@mail.net','01049481538',1,120000,10000,5000,130000,15000,1,0,'King',1,NULL),(6,35,5,6,1,'2025-04-05','2025-04-07',2,3,'2025-04-16 08:52:36.000000','2025-04-16 08:52:36.000000','RSV003','','CANCELLED','9324-8348-5725-7354','09/28','Yoon','Dong','yoon.dong@testmail.com','01074703485',1,240000,10000,5000,265000,0,2,1,'Twin',1,NULL),(7,19,4,4,1,'2025-04-07','2025-04-09',2,3,'2025-04-16 08:52:36.000000','2025-04-16 08:52:36.000000','RSV004','조용한 방','CONFIRMED','6816-7490-9798-2152','05/27','Park','Jaeho','park.jaeho@testmail.com','01018969561',1,180000,10000,5000,205000,0,2,1,'Queen',0,NULL),(8,26,4,5,1,'2025-04-09','2025-04-11',2,3,'2025-04-16 08:52:36.000000','2025-04-16 08:52:36.000000','RSV005','조용한 방','COMPLETED','1779-7103-9494-6801','03/25','Yoon','Jaeho','yoon.jaeho@mail.net','01024289554',1,210000,10000,5000,235000,15000,2,1,'Double',1,NULL),(9,4,3,1,0,'2025-04-11','2025-04-13',2,2,'2025-04-16 08:52:36.000000','2025-04-16 08:52:36.000000','RSV006','','CONFIRMED','6283-4562-4639-4411','10/28','Son','Sohee','son.sohee@testmail.com','01012183558',1,90000,10000,5000,110000,15000,2,0,'King',0,NULL),(10,24,4,4,2,'2025-04-13','2025-04-15',1,3,'2025-04-16 08:52:36.000000','2025-04-16 08:52:36.000000','RSV007','조용한 방','CANCELLED','7302-7667-8311-6149','07/28','Lee','Yuna','lee.yuna@mail.net','01064297915',1,180000,10000,5000,200000,15000,1,2,'Family',1,NULL),(11,1,5,1,2,'2025-04-15','2025-04-17',1,3,'2025-04-16 08:52:36.000000','2025-04-16 08:52:36.000000','RSV008','','CANCELLED','7650-9981-3972-8505','01/26','Yoon','Seojun','yoon.seojun@example.com','01026601260',1,90000,10000,5000,110000,15000,1,2,'Queen',0,NULL),(12,15,3,3,0,'2025-04-17','2025-04-19',2,2,'2025-04-16 08:52:36.000000','2025-04-16 08:52:36.000000','RSV009','','CHECKED_IN','1394-5113-4601-4038','10/27','Han','Jaeho','han.jaeho@testmail.com','01016981771',1,150000,10000,5000,170000,0,2,0,'Queen',1,NULL),(13,8,3,2,2,'2025-04-19','2025-04-21',1,3,'2025-04-16 08:52:36.000000','2025-04-16 08:52:36.000000','RSV010','테라스 있는 방','CONFIRMED','6224-8526-8886-1203','04/26','Kang','Minsu','kang.minsu@mail.net','01067118282',1,120000,10000,5000,140000,10000,1,2,'King',0,NULL),(14,28,2,5,1,'2025-04-21','2025-04-23',2,3,'2025-04-16 08:52:36.000000','2025-04-16 08:52:36.000000','RSV011','','CONFIRMED','2755-6092-1469-7733','05/27','Lee','Jaeho','lee.jaeho@example.com','01099191505',1,210000,10000,5000,235000,10000,2,1,'Family',1,NULL),(15,20,2,4,0,'2025-04-23','2025-04-25',2,2,'2025-04-16 08:52:36.000000','2025-04-16 08:52:36.000000','RSV012','조용한 방','CONFIRMED','5384-2793-6376-3885','11/29','Son','Minsu','son.minsu@mail.net','01059514548',1,180000,10000,5000,200000,0,2,0,'Twin',1,NULL),(16,9,5,2,2,'2025-04-25','2025-04-27',1,3,'2025-04-16 08:52:36.000000','2025-04-16 08:52:36.000000','RSV013','조용한 방','CANCELLED','7742-7160-8549-2955','09/27','Lee','Jaeho','lee.jaeho@example.com','01032806448',1,120000,10000,5000,140000,10000,1,2,'Queen',0,NULL),(17,10,5,2,0,'2025-04-27','2025-04-29',2,2,'2025-04-16 08:52:36.000000','2025-04-16 08:52:36.000000','RSV014','','CANCELLED','7988-6696-9396-8711','08/25','Jung','Yuna','jung.yuna@testmail.com','01024179550',1,120000,10000,5000,140000,10000,2,0,'King',1,NULL),(18,16,1,3,0,'2025-04-29','2025-05-01',2,2,'2025-04-16 08:52:36.000000','2025-04-16 08:52:36.000000','RSV015','테라스 있는 방','CANCELLED','5440-4846-9580-3839','01/26','Lee','Dong','lee.dong@mail.net','01054929118',1,150000,10000,5000,170000,15000,2,0,'Twin',0,NULL),(19,7,3,2,2,'2025-05-01','2025-05-03',2,4,'2025-04-16 08:52:36.000000','2025-04-16 08:52:36.000000','RSV016','테라스 있는 방','CANCELLED','3374-8345-4071-6964','04/25','Choi','Dong','choi.dong@example.com','01092732605',1,120000,10000,5000,150000,0,2,2,'Queen',0,NULL),(20,21,5,4,1,'2025-05-03','2025-05-05',1,2,'2025-04-16 08:52:36.000000','2025-04-16 08:52:36.000000','RSV017','테라스 있는 방','COMPLETED','2134-3206-6149-4699','09/28','Lee','Younghee','lee.younghee@mail.net','01024080562',1,180000,10000,5000,195000,0,1,1,'Queen',1,NULL),(21,11,1,2,0,'2025-05-05','2025-05-07',2,2,'2025-04-16 08:52:36.000000','2025-04-16 08:52:36.000000','RSV018','높은 층 요청','CONFIRMED','1384-7769-6477-3094','09/26','Gil','Dong','gil.dong@testmail.com','01039440128',1,120000,10000,5000,140000,15000,2,0,'Family',1,NULL),(22,3,2,1,1,'2025-05-07','2025-05-09',1,2,'2025-04-16 08:52:36.000000','2025-04-16 08:52:36.000000','RSV019','높은 층 요청','COMPLETED','1958-3183-2018-8914','01/28','Kang','Seojun','kang.seojun@testmail.com','01091745200',1,90000,10000,5000,105000,0,1,1,'Queen',0,NULL),(23,9,3,2,2,'2025-05-09','2025-05-11',2,4,'2025-04-16 08:52:36.000000','2025-04-16 08:52:36.000000','RSV020','테라스 있는 방','COMPLETED','9735-9652-6433-6051','01/26','Kim','Minsu','kim.minsu@example.com','01037243650',1,120000,10000,5000,150000,15000,2,2,'Queen',1,NULL),(24,12,18,1,0,'2025-06-09','2025-06-12',2,2,NULL,NULL,'RSV100',NULL,'COMPLETED','0000-0000-0000-1111','99/99','1','1','a@a','010',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL),(25,13,18,2,0,'2025-06-13','2025-06-18',2,2,NULL,NULL,'RSV101',NULL,'COMPLETED','0000-0000-0000-2222','99/99','1','1','b@b','011',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL),(26,14,18,3,0,'2025-06-19','2025-06-27',2,2,NULL,NULL,'RSV102',NULL,'COMPLETED','0000-0000-0000-3333','99/99','1','1','c@c','012',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL),(27,15,18,4,0,'2025-06-28','2025-06-30',2,2,NULL,NULL,'RSV103',NULL,'COMPLETED','0000-0000-0000-4444','99/99','1','1','d@d','013',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL),(31,17,52,1,0,'2025-04-01','2025-04-10',2,190000,NULL,NULL,'RSV201',NULL,'COMPLETED','012-201-205-202','11/30','HONG','PYO','hongsi@gmail.com','01023226574',1,190000,0,0,190000,0,NULL,NULL,'킹',0,NULL),(32,18,52,2,0,'2025-05-01','2025-05-30',2,200000,NULL,NULL,'RSV202',NULL,'COMPLETED','012-201-205-202','11/30','HONG','PYO','hongsi@gmail.com','01023226574',1,200000,0,0,200000,0,NULL,NULL,'킹',0,NULL),(33,22,52,3,0,'2025-06-01','2025-06-20',2,210000,NULL,NULL,'RSV203',NULL,'CONFIRMED','012-201-205-202','11/30','HONG','PYO','hongsi@gmail.com','01023226574',1,210000,0,0,210000,0,NULL,NULL,'킹',0,NULL),(39,23,54,4,0,'2025-03-01','2025-03-09',2,220000,NULL,NULL,'RSV204',NULL,'COMPLETED','000-000-000-111','11/30','HAN','DONGHUN','handonghun@gmail.com','010-5534-4444',1,220000,0,0,220000,0,NULL,NULL,NULL,0,NULL),(40,24,54,4,0,'2025-04-01','2025-04-09',2,200000,NULL,NULL,'RSV205',NULL,'CANCELLED','000-000-000-111','11/30','HAN','DONGHUN','handonghun@gmail.com','010-5534-4444',1,200000,0,0,200000,0,NULL,NULL,NULL,0,NULL),(41,25,54,4,0,'2025-04-21','2025-04-30',2,210000,NULL,NULL,'RSV206',NULL,'CHECKED_IN','000-000-000-111','11/30','HAN','DONGHUN','handonghun@gmail.com','010-5534-4444',1,210000,0,0,210000,0,NULL,NULL,NULL,0,NULL),(42,26,54,4,0,'2025-05-01','2025-05-05',2,220000,NULL,NULL,'RSV207',NULL,'CONFIRMED','000-000-000-111','11/30','HAN','DONGHUN','handonghun@gmail.com','010-5534-4444',1,220000,0,0,220000,0,NULL,NULL,NULL,0,NULL),(43,11,1,2,0,'2025-04-24','2025-04-25',2,155000,NULL,NULL,'LX953EED','','CANCELLED','1232344414142323','1129','이','재명','leejaemung@com','10444444445',1,120000,35000,0,155000,0,NULL,NULL,'킹',0,NULL),(51,1,1,1,0,'2025-04-26','2025-04-27',2,90000,NULL,NULL,'LX536803','','CONFIRMED','1111222233334444','1129','이','승범','test@chillhaven.com','01015156545',1,90000,0,0,90000,0,NULL,NULL,'킹',0,NULL),(59,1,NULL,1,0,'2025-05-01','2025-05-30',2,2610000,NULL,NULL,'LXBB7216','','CANCELLED','212123','1212','개','똥','inuyasha@gmail.com@inuyasha@gmail.com','010',1,2610000,0,0,2610000,0,NULL,NULL,'킹',0,NULL),(60,1,1,1,0,'2025-04-28','2025-04-29',2,87300,NULL,NULL,'LX58744C','','CONFIRMED','1212212121212','1212','이','재명','leejaemung@naver.com','01027911212',1,90000,0,0,90000,2700,NULL,NULL,'킹',0,NULL),(61,1,1,1,0,'2025-04-28','2025-04-29',2,339500,NULL,NULL,'LXA9E67C','','CONFIRMED','121212121212','1212','이','재명','leejaemung@naver.com','01027911212',1,350000,0,0,350000,10500,NULL,NULL,'킹',0,1),(62,11,1,2,0,'2025-04-28','2025-04-29',2,116400,NULL,NULL,'LXB4A4D5','도와주세요','CONFIRMED','121212121212','1212','이','재명','leejaemung@gmail.com','01027911212',1,120000,0,0,120000,3600,NULL,NULL,'킹',0,NULL),(63,11,73,2,0,'2025-02-28','2025-04-27',2,1160000,NULL,NULL,'LXC1A1D4',NULL,'COMPLETED','131313131313','13','유','저','placid@gmail.com','01029222222',1,1160000,0,0,1160000,5,NULL,NULL,NULL,0,NULL),(64,2,1,1,0,'2025-04-28','2025-04-29',2,85500,NULL,NULL,'LX88EA6E','1','CONFIRMED','111111111','01/29','유','저','user@gmail.com','01077777777',1,90000,0,0,90000,4500,NULL,NULL,'킹',0,NULL),(65,19,1,3,0,'2025-04-28','2025-04-29',2,218500,NULL,NULL,'LX03C7BE','피클 빼주세요','CONFIRMED','112111312','01/29','유','저','user@gmail.com','01077777777',1,160000,70000,0,230000,11500,NULL,NULL,'트윈',0,NULL),(72,34,1,6,0,'2025-05-03','2025-05-04',2,339500,'2025-05-03 17:49:30.840864','2025-05-03 17:49:30.840864','LX1C46CD','','CONFIRMED','1111222233334444','1129','승범','이','test@example.com','01012323242',1,350000,0,0,350000,10500,NULL,NULL,'킹',0,NULL),(73,1,1,1,0,'2025-05-03','2025-05-04',2,87300,'2025-05-03 17:49:43.092467','2025-05-03 17:49:43.092467','LX20B44F','','CONFIRMED','3333222211113333','1122','승범','이','test@example.com','01012323242',1,90000,0,0,90000,2700,NULL,NULL,'킹',0,NULL),(74,1,1,1,0,'2025-05-04','2025-05-05',2,261900,'2025-05-04 17:00:20.709670','2025-05-04 17:00:20.709670','LX493320','','CONFIRMED','2331111122223333','1129','승범','이','test@example.com','01012323242',3,270000,0,0,270000,8100,NULL,NULL,'킹',0,NULL),(75,2,1,1,0,'2025-05-04','2025-05-05',2,261900,'2025-05-04 17:00:20.751302','2025-05-04 17:00:20.751302','LX253848','','CONFIRMED','2331111122223333','1129','승범','이','test@example.com','01012323242',3,270000,0,0,270000,8100,NULL,NULL,'킹',0,NULL),(76,3,1,1,0,'2025-05-04','2025-05-05',2,261900,'2025-05-04 17:00:20.782549','2025-05-04 17:00:20.782549','LXC9912E','','CONFIRMED','2331111122223333','1129','승범','이','test@example.com','01012323242',3,270000,0,0,270000,8100,NULL,NULL,'킹',0,NULL),(77,1,1,1,0,'2025-05-18','2025-05-19',2,87300,'2025-05-18 12:30:09.819105','2025-05-18 12:30:09.819156','LXACA5C3','','CONFIRMED','1591959523331212','1129','이','승범','vldhtmxk@naver.com','01012323242',1,90000,0,0,90000,2700,NULL,NULL,'킹',0,NULL);
/*!40000 ALTER TABLE `reservation` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2025-05-19 23:56:30
